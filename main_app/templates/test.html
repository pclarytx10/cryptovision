{% extends 'base.html' %} {% block content %}
{% load humanize %}
    <h3>CryptoVision Test Page</h3>
    <hr />
    <p>This is a page for testing query output.</p>

    <div id="globalMC">
        <p>Today, there are <span style="color:blue">{{ items.active_cryptocurrencies|intcomma }}</span> currencies and the global cryptocurrency market cap is <span style="color:blue">${{ items.total_market_cap.usd|floatformat:2|intcomma }}</span>. This is a <span class="report-num" style="color:blue">{{ items.market_cap_change_percentage_24h_usd|floatformat:2 }}</span>% change in the last 24 hours.</p>
    </div>
  
    {% comment %} <p>Single Item: {{ item.market_data }}</p> {% endcomment %}

    <p>Item Count: {{ items|length }}</p>
    {% for item in items %}  
        {% comment %} <p>{{ item }}: ${{ item.coin.coin_usd|floatformat:2|intcomma }}</p>  {% endcomment %}
        {% comment %} <p>Quantity: {{ item.total_quantity }}</p> {% endcomment %}
        {% comment %} <p>Value: ${{ item.total_value|floatformat:2|intcomma }}</p> {% endcomment %}
        <p>Test Value: {{ item }}</p>

    {% endfor %} 

    {% comment %} <script>
        // Change color of report number based on value
        if($(`.report-num`)[0].outerText < 0) {
            $(`.report-num`).css('color', 'red')
        } else {
            $(`.report-num`).css('color', 'green')
        }
    </script> {% endcomment %}

{% endblock %}